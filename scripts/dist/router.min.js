!function(){function t(){this._notFoundHandler=null,this._routes=[]}t.prototype.notFound=function(t){this._notFoundHandler=t},t.prototype.route=function(t,o,e){e||(e=o,o=t,t=null);for(var r=0;r<this._routes.length;r++)if(this._routes[r].route==o)return void this._routes[r].handlers.push(e);var n={name:t,route:o,handlers:[e]},u=o.replace(/:[\w]+/g,"([\\w\\-]+)");n.regexp=new RegExp("^"+u+"$","i"),this._routes.push(n)},t.prototype.reverse=function(t,o){o||(o={});for(var e=0;e<this._routes.length;e++)if(this._routes[e].name==t){var r=this._routes[e].route.replace(/:[\w]+/g,function(t){return o[t.slice(1)]||""});return r}return""},t.prototype.toPath=function(t){for(var o=0;o<this._routes.length;o++){var e=t.match(this._routes[o].regexp);if(e)return window.location.hash="#!"+t,e.shift(),void this._routes[o].handlers.forEach(function(t){t.apply(null,e)})}this._notFoundHandler&&this._notFoundHandler()},t.prototype.toRoute=function(t,o){this.toPath(this.reverse(t,o))},window.Router=t}();